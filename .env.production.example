# =============================================================================
# üöÄ MojoRust Trading Bot - Production Environment Configuration
# Server: 38.242.239.150
# =============================================================================
# ‚ö†Ô∏è IMPORTANT: This is a PRODUCTION configuration template
# Copy to .env and customize with your actual values
# Secure this file with: chmod 600 .env
# =============================================================================

# =============================================================================
# BASIC CONFIGURATION
# =============================================================================

# Environment settings
TRADING_ENV=production
APP_ENV=production
EXECUTION_MODE=paper  # ‚ö†Ô∏è START WITH PAPER, switch to live after testing
DEBUG=false

# Server configuration
SERVER_HOST=38.242.239.150
SERVER_PORT=8080
BIND_ADDRESS=0.0.0.0

# =============================================================================
# INFISICAL SECRETS MANAGEMENT
# =============================================================================
# Get these values from: https://app.infisical.com

INFISICAL_BASE_URL=https://app.infisical.com
INFISICAL_CLIENT_ID=your_production_client_id
INFISICAL_CLIENT_SECRET=your_production_client_secret
INFISICAL_PROJECT_ID=your_production_project_id
INFISICAL_ENVIRONMENT=production
INFISICAL_CACHE_TTL_SECONDS=300

# =============================================================================
# API KEYS AND CONFIGURATION
# =============================================================================
# These should be stored in Infisical for security

# Helius API (get from https://helius.dev)
HELIUS_API_KEY=your_helius_api_key_here

# QuickNode RPC (get from https://www.quicknode.com)
QUICKNODE_RPC_URL=https://your-project.quicknode.solana/mainnet
QUICKNODE_API_KEY=your_quicknode_api_key_here

# Jupiter API (for DEX aggregation)
JUPITER_API_URL=https://quote-api.jup.ag/v6
JUPITER_SWAP_URL=https://swap.jup.ag

# DexScreener API (for token data)
DEXSCREENER_API_URL=https://api.dexscreener.com/latest/dex

# =============================================================================
# SOLANA WALLET CONFIGURATION
# =============================================================================
# NEVER commit private keys to version control
# Store in Infisical or environment variables

# Private key (64 characters, base58 encoded)
# SOLANA_PRIVATE_KEY=your_private_key_here

# Or use keypair file
SOLANA_KEYPAIR_FILE=/root/mojo-trading-bot/secrets/keypair.json

# Public key (for verification)
SOLANA_PUBLIC_KEY=your_public_key_here

# =============================================================================
# TRADING PARAMETERS - PRODUCTION CONSERVATIVE SETTINGS
# =============================================================================

# Capital management (START CONSERVATIVE!)
INITIAL_CAPITAL=1.0  # SOL - start small!
MAX_POSITION_SIZE=0.10  # 10% of capital per position
MAX_DRAWDOWN=0.15  # 15% maximum drawdown
DAILY_TRADE_LIMIT=50  # Maximum trades per day
KELLY_FRACTION=0.5  # Conservative Kelly criterion

# Risk management
CIRCUIT_BREAKER_DRAWDOWN=0.10  # Stop trading at 10% drawdown
MAX_CORRELATION=0.7  # Maximum position correlation
DIVERSIFICATION_TARGET=10  # Target number of positions
STOP_LOSS_METHOD=support_based  # Support-based stop losses
TAKE_PROFIT_METHOD=rsi_overbought  # RSI-based take profits

# Position sizing
MIN_POSITION_SIZE_SOL=0.01  # Minimum position size
MAX_POSITION_SIZE_SOL=1.0  # Maximum position size
POSITION_SIZING_METHOD=kelly  # Kelly criterion sizing

# =============================================================================
# STRATEGY CONFIGURATION
# =============================================================================

# RSI Strategy
RSI_PERIOD=14
RSI_OVERSOLD=30
RSI_OVERBOUGHT=70
RSI_TIMEFRAME=1m

# Support/Resistance Strategy
SR_LOOKBACK_PERIODS=100,200
SR_MIN_TOUCHES=2
SR_CONFIRMATION_REQUIRED=true

# Volume analysis
MIN_VOLUME_THRESHOLD=50000  # Minimum 24h volume
VOLUME_SPIKE_MULTIPLIER=2.0
VOLUME_AVERAGE_PERIOD=20

# =============================================================================
# EXECUTION CONFIGURATION
# =============================================================================

# Slippage tolerance
SLIPPAGE_TOLERANCE_BPS=300  # 3% slippage tolerance
MAX_SLIPPAGE_BPS=500  # 5% maximum slippage

# Priority fees (to ensure execution)
BASE_PRIORITY_FEE_LAMPORTS=1000
MAX_PRIORITY_FEE_LAMPORTS=100000
PRIORITY_FEE_BOOST_FACTOR=1.5

# Execution timing
EXECUTION_TIMEOUT_SECONDS=30
RETRY_ATTEMPTS=3
RETRY_DELAY_SECONDS=1

# =============================================================================
# MONITORING AND LOGGING
# =============================================================================

# Log configuration
LOG_LEVEL=INFO  # DEBUG, INFO, WARN, ERROR
LOG_FORMAT=json  # json or text
LOG_FILE_ENABLED=true
LOG_ROTATION=daily
LOG_RETENTION_DAYS=30

# Metrics and monitoring
METRICS_ENABLED=true
METRICS_INTERVAL_SECONDS=60
PROMETHEUS_PORT=9090
GRAFANA_PORT=3000

# Health checks
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL_SECONDS=30
HEALTH_CHECK_ENDPOINT=/api/health

# =============================================================================
# ALERTING CONFIGURATION
# =============================================================================

# Alert settings
ENABLE_ALERTS=true
ALERT_EMAIL=your-email@example.com
ALERT_WEBHOOK_URL=your_webhook_url_here

# Alert thresholds
ALERT_DRAWDOWN_THRESHOLD=0.10  # Alert at 10% drawdown
ALERT_ERROR_COUNT_THRESHOLD=10  # Alert after 10 errors
ALERT_API_FAILURE_THRESHOLD=5  # Alert after 5 API failures

# Notification channels
EMAIL_ALERTS_ENABLED=true
WEBHOOK_ALERTS_ENABLED=true
SLACK_ALERTS_ENABLED=false

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# TimescaleDB (for time-series data)
TIMESCALEDB_HOST=localhost
TIMESCALEDB_PORT=5432
TIMESCALEDB_DBNAME=trading_bot
TIMESCALEDB_USER=trading_user
TIMESCALEDB_PASSWORD=your_secure_password_here

# Redis (for caching)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=your_redis_password_here

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# Firewall settings
ENABLE_FIREWALL=true
ALLOWED_IPS=127.0.0.1,::1
BLOCKED_COUNTRIES=CN,RU,KP

# API security
JWT_SECRET_KEY=your_jwt_secret_key_minimum_32_characters
JWT_EXPIRY_HOURS=24
API_RATE_LIMIT=100  # Requests per minute

# SSL/TLS (if using HTTPS)
SSL_ENABLED=false
SSL_CERT_FILE=/path/to/cert.pem
SSL_KEY_FILE=/path/to/key.pem

# =============================================================================
# PERFORMANCE CONFIGURATION
# =============================================================================

# Concurrency
MAX_CONCURRENT_TRADES=5
WORKER_POOL_SIZE=10
ASYNC_TIMEOUT_SECONDS=60

# Caching
CACHE_ENABLED=true
CACHE_TTL_SECONDS=300
MAX_CACHE_SIZE_MB=100

# Memory management
MAX_MEMORY_USAGE_MB=2048
GC_INTERVAL_SECONDS=300

# =============================================================================
# BACKUP AND RECOVERY
# =============================================================================

# Backup settings
BACKUP_ENABLED=true
BACKUP_INTERVAL_HOURS=6
BACKUP_RETENTION_DAYS=30
BACKUP_LOCATION=/root/mojo-trading-bot/backups

# Data persistence
SAVE_POSITIONS=true
SAVE_PERFORMANCE_DATA=true
SAVE_TRADE_HISTORY=true

# =============================================================================
# DEVELOPMENT AND TESTING
# =============================================================================

# Feature flags (keep these false in production)
ENABLE_DEBUG_ENDPOINTS=false
ENABLE_SANDBOX_MODE=false
ENABLE_TEST_TRADES=false

# Testing configuration
TEST_WALLET_ENABLED=false
DRY_RUN_MODE=false  # Set to true for testing without real trades

# =============================================================================
# ADVANCED CONFIGURATION
# =============================================================================

# Network settings
CONNECTION_TIMEOUT_SECONDS=30
MAX_CONNECTION_RETRIES=3
CONNECTION_POOL_SIZE=20

# Algorithm parameters
ALGORITHM_CONFIDENCE_THRESHOLD=0.7
MIN_SIGNAL_STRENGTH=0.6
SIGNAL_COMBINATION_METHOD=weighted_average

# Market data
DATA_REFRESH_INTERVAL_SECONDS=10
MARKET_DATA_TIMEOUT_SECONDS=5
STALE_DATA_THRESHOLD_SECONDS=60

# =============================================================================
# INTEGRATION CONFIGURATION
# =============================================================================

# External services
TELEGRAM_BOT_TOKEN=your_telegram_bot_token_here
TELEGRAM_CHAT_ID=your_telegram_chat_id_here
DISCORD_WEBHOOK_URL=your_discord_webhook_here

# Analytics
GOOGLE_ANALYTICS_ENABLED=false
ANALYTICS_TRACKING_ID=your_ga_tracking_id

# =============================================================================
# CUSTOMIZATION
# =============================================================================

# Bot configuration
BOT_NAME=MojoRust-Trading-Bot
BOT_VERSION=1.0.0
OWNER_NAME=Your Name
CONTACT_EMAIL=your-email@example.com

# Trading hours (24/7 for crypto)
TRADING_HOURS_ENABLED=false
TRADING_START_TIME=00:00
TRADING_END_TIME=23:59

# =============================================================================
# DEPLOYMENT SPECIFIC
# =============================================================================

# Deployment timestamp
DEPLOYMENT_TIMESTAMP=auto-generated
DEPLOYMENT_VERSION=latest
DEPLOYMENT_ENVIRONMENT=production

# Server-specific
SERVER_TIMEZONE=UTC
SERVER_LOCALE=en_US.UTF-8

# =============================================================================
# INSTRUCTIONS
# =============================================================================

# 1. Copy this file to .env:
#    cp .env.production.example .env
#
# 2. Set proper permissions:
#    chmod 600 .env
#
# 3. Edit .env with your actual values:
#    nano .env
#
# 4. Store sensitive values in Infisical:
#    - API keys
#    - Private keys
#    - Passwords
#
# 5. Test configuration:
#    ./scripts/validate_config.sh
#
# 6. Start with paper trading:
#    EXECUTION_MODE=paper
#
# 7. Monitor for 24+ hours before going live:
#    EXECUTION_MODE=live
#
# ‚ö†Ô∏è NEVER commit .env to version control!
# ‚ö†Ô∏è ALWAYS use paper trading first!
# ‚ö†Ô∏è SECURE your private keys!